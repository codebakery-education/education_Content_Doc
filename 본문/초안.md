##머리말
이 문서는 현재 주목받고 있는 IT기술인 IoT(사물 인터넷, Internet of Things)을 누구나 쉽게 접해볼 수 있게 해준 아두이노라는 오픈소스 마이크로 컨트롤러 보드를 누구나 쉽게 다룰 수 있게끔 작성되었습니다. 공학이나 프로그래밍을 전혀 접해보지 않았거나, 프로그래밍을 접해봤어도 아두이노 같은 마이크로 컨트롤러 보드를 한번도 다뤄보지 않은 초보자 분들이 부담없이 읽고 아두이노를 배워가시기에 적합합니다. 열정만 있으면, 여러분도 아두이노를 통해 실생활에서 쓰일 여러가지 물건들을 만드실 수 있을겁니다.

아두이노(Arduino)는 이탈리아어로 '강력한 친구' 라는 뜻입니다. 임베디드 프로그래밍이나 공학 등의 경험이 전혀 없는 사람들을 위해 제작된 교육용 플랫폼이기 때문에 누구나 부담없이 아두이노 코드를 작성하고, 쉽게 업로드하고 작동시킬 수 있게 설계되어 있습니다.

###이 책은..

이 책은 프로그래밍을 처음 접한 초보자 혹은 기초적 프로그래밍 지식은 가지고 있으나, 아두이노를 한번도 다뤄보지 않은 초보자 대상으로 진행됩니다. 최대한 어려운 내용은 배제하고, 아두이노에 흥미를 들이는 것 그 자체에 의미를 두고 문서를 작성되었습니다.

이 책의 목표는 Learning By Doing 이라는 교육 방식을 적용하여, 책을 읽고 있는 여러분으로 하여금 지루한 이론교육 보다는 여러 예제들을 수행하면서, 아두이노와 IoT 기술에 대한 흥미를 가지게끔 하는 것입니다.

*--- Codebakery CTO 조동현*

##목차

***목차.md 파일 참고***

##아두이노

###아두이노가 뭘까?

아두이노는 전자공학이나 로봇공학, 임베디드 프로그래밍 같은 전문적인 기술을 배우지 않은 사람들도 원하는 도구를 만들 수 있도록 설계된 오픈소스 마이크로 컨트롤러 보드입니다. 아두이노는 이탈리아어로 강력한 친구라는 뜻입니다. 아두이노 프로그래밍과 여러 센서, 모터등의 사용법에 익숙해 지시기만 한다면, 생활속에서 필요한것들을 여러분이 직접 만들어서 사용하는 재미를 느끼실 수 있을 것입니다. 예를 들어 정해진 시간에 물고기에게 밥을 주는 기계를 만들수도 있고, 한밤중 침입자를 대비한 방범장치도 모두 여러분이 DIY(Do It Yourself) 하실 수 있습니다.

###아두이노의 종류

	어딘가에서 퍼온듯한 문체라 (...) 이해하기 쉬운 문체로 변경하는 작업 진행중

아두이노는 회로도가 공개된 **오픈소스** 마이크로 컨트롤러 보드라 아두이노 재단에서 공식으로 판매되는 제품 이외로 사용용도에 알맞게 커스터 마이징된 제품들이 많이 제작되고 판매되고 있습니다. 웨어러블 관련 기기를 제작하기 쉽게 만들어진 커스텀 보드도 있고, 공식 보드와 구조는 같지만, 조금더 저렴한 제품을 채택하여, 값싸게 보급된 커스텀 보드도 있습니다. 여기서는 보편적으로 많이 사용되는 보드 몇가지를 설명합니다.

####아두이노 Uno
아두이노 UNO보드는 현재 가장 보편적인 보드로 대부분의 쉴드가 UNO보드와 호환이 되며 USB 통신을 위한 FTDI 칩을 기본으로 내장하고 있어(ATmega16U2) 별도의 변환기 없이 PC등에 바로 USB로 연결해서 사용할 수 있습니다. 5V, 3.3V 모두 지원하며 USB 전원을 사용 할 수 있어 외부 입력 전원도 지원합니다. 예제와 강좌 및 라이브러리가 UNO 기반으로 된 것들이 많아 처음에 **입문용으로 사용하기에 좋습니다.**

요약하자면, 많은 부품들을 대부분 사용할 수 있고, 쉽게 PC와 연결이 가능하고, 인터넷에 올라와있는 정보들의 대부분이 UNO 기준으로 작성되어 있기 때문에 초보자분들이 사용하기 편한 보드입니다.

####아두이노 Nano
ATmega16U2 칩을 사용하므로 UNO와 동일한 기능을 그대로 제공합니다. 직접 USB로 업로드가 가능하고 5V, 3.3V 전원 핀을 갖추고 있어 외부 센서의 전압을 맞추기가 훨씬 더 간편합니다.

아두이노 Uno 와 다르게 핀이 튀어나와 있어서 튀어나온 전선 (M형 점퍼선) 을 사용하지 않고, 안쪽으로 들어간 전선 (F형 전선) 을 사용할 수 없습니다. 하지만, 이런 특징으로 인해 브레드 보드에 직접 꽃아서 작업할 수 있는 장점이 있습니다. 하지만 아두이노 Uno 에서 사용하는 케이블을 사용할 수 없고, mini-B 타입 USB를 사용해야 합니다.

####아두이노 Leonardo
아두이노 Leonardo는 UNO보드와 흡사하게 생겼지만 약간의 차이점을 갖고 있는 보드입니다. 아두이노 Leonardo는 ATmega32u4 칩을 탑재하고 있습니다. ATmega32u4 칩은 내부에 USB통신을 위한 기능을 갖추고 있기 때문에 아두이노 UNO보드처럼 별도의 변환기를 필요로 하지 않습니다. UNO보드 보다 핀의 수가 많고 특수한 기능(PWM, 12C, SPI 등)을 담당하는 핀이 아두이노 UNO와는 완전히 틀리기 때문에 충분히 매뉴얼을 습득하고 사용하셔야 합니다.

####아두이노 PRO
UNO처럼 ATmega328 칩을 사용하므로 UNO와 동일한 기능을 제공합니다. 다만 USB통신, 동작전압과 전원 관련된 부분들이 UNO보드와는 큰 차이를 보입니다. Pro 보드의 경우 파워버튼과 외부 배터리용 커넥터가 내장되어 있지만 사이즈가 좀 큽니다. Pro mini는 이마저도 없지만 대신 33x18mm 로 초소형입니다. 작은 사이즈를 위해 칩형 부품을 사용했으며 가격 절감을 위해 USB 통신기능 (FTDI 칩)마저 빼버렸습니다. 따라서 PC에 연결 및 소스 업로드를 위해서는 USB to Serial (or USB to UART or FTDI) 변환기가 별도로 필요합니다.

####아두이노 Mega2560
기존의 아두이노 Mega를 대체하는 보드로 고성능과 많은 IO핀을 제공하는 것이 특징입니다. 로봇이나 이미지, 음성, 영상 등 대체적으로 고성능을 요구하는 곳에 사용될 수 있습니다. 다만 표준 아두이노 UNO보드와 핀 배열, 특징이 완전히 틀리기 때문에 아두이노를 처음 만지는 경우 어려울 수 있습니다.

###관련 부품

아두이노가 준비되어 있어도 아두이노 만으로는 할 수 있는 것이 별로 없습니다. 불빛 하나만 띄우려고 해도 LED라는 부품이 필요하죠. 어려운 부품들은 추후에 직접 사용하는 단계에서 깊게 설명할 예정이며, 이곳에서는 간단히 자주 등장하는 부품의 설명을 간략하게 적어놓도록 하겠습니다.

**LED** LED는 Light Emitting Diode의 줄임말로써 한국어로는 **발광 다이오드**라고 합니다. LED는 많은 분들이 알고 계시겠지만, 전류를 흘려보내면 빛을 내는 특성이 있습니다. 기본적으로 **다이오드**이기 때문에 일방통행처럼 전류가 한쪽 방향으로만 흘러갑니다. 전기에너지를 빛 에너지로 특히 가시광선 영역으로 거의 100% 변환할 수 있는 고효율 발광체입니다. 

**점퍼선** 점퍼선은 쉽게 말하면 전류가 흐를수 있도록 길을 내주는 흔히 말하는 **전선** 입니다. 

**저항** 저항은 전기의 흐름을 방해하여, 전류의 양을 조절 할 수 있는 부품입니다. 수도꼭지를 조절하여 나오는 물의 양을 조절하듯이 전류가 흐르는 길에 저항을 설치하면, 흐르는 전류의 양이 줄어들게 되어 원하는 전류의 양만 흐르게 할 수 있습니다.

**조도센서** 조도센서는 주변의 빛을 감지할 수 있는 센서입니다. 자세한 내용은 ***초보발명가-밝기를 감지하자*** 에서 다룹니다.

**피에조버저** 피에조 버저는 전류가 흐르면 소리를 내는 일종의 스피커같은 부품입니다. 여러 소리 신호를 발생시킬 때 주로 사용되는 부품입니다. 자세한 내용은 ***초보발명가-소리 내보기*** 에서 다룹니다.

**DC모터** DC모터는 전류를 흘려 보내면 자동차 바퀴처럼 한방향으로 계속 돌게 되는 모터입니다. 앞서 말했듯이 바퀴같은 것들을 만들 때 주로 사용되는 부품입니다.

**서보모터** 서보모터는 한방향으로만 계속 돌게되는 DC모터와 다르게, 움직이는 방향과 어느 각도로 움직일지를 설정하여 움직임을 제어할 수 있는 모터입니다. 주로 로봇 팔이나 정밀한 움직임이 요구되는 곳에서 사용됩니다.

**컬러 매트릭스** 컬러 매트릭스는 길거리에서 흔히 보이는 전광판의 축소판이라고 생각하면 됩니다. 여러 LED가 정사각형으로 모여있고, 원하는 모양을 띄울 수 있습니다. 여러 크기의 제품들이 존재하지만, 본 교재에서는 8x8 짜리 컬러 매트릭스를 사용합니다.

**버튼** 버튼은 말그대로 누르면 전류가 흐르게 되는 부품입니다. 

**세븐 세그먼트** 세븐 세그먼트는 엘리베이터에서 층수를 나타내주는 불빛이라고 생각하시면 됩니다. 빛을 낼 수 있는 부분이 7개로 나뉘어 져 있어 **세븐 세그먼트** 라는 이름을 갖게 되었습니다. 0부터 9까지의 숫자를 나타낼때 주로 사용됩니다. 

**온습도 센서** 온습도 센서는 센서 주변의 온도와 습도를 체크할 수 있는 센서입니다. 주로 주변 날씨를 체크할 때 사용됩니다.

**토양 습도 센서** 토양 습도 센서는 토양의 습기를 체크할 수 있는 센서입니다. 화분에 물을 깜빡하고 주지 않았을 때, 흙이 말랐으면 화분 주인에게 알려줄 수 있는 프로젝트를 할때 사용하게 됩니다.

**캐릭터 LCD** 캐릭터 LCD는 글자를 나타낼 수 있는 LCD 입니다. 보통 16x2 (한줄에 16글자, 2줄짜리)크기를 이용합니다. 

**브레드 보드** 브레드 보드가 없으면, 우리는 회로를 구성할 때 전선과 전선을 잇기위해 납땜을 해야하고, 센서나 여러 부품들을 연결할 때도 납땜을 해야합니다. 하지만, 브레드 보드는 그런 불편함을 없애기 위해 전선을 그저 꽃기만 하면, 회로를 구성할 수 있습니다.

**초음파 센서** 초음파 센서는 초음파를 발사해 바로 앞에 있는 물체와 센서사이의 거리를 측정할 수 있는 센서입니다. 보통 로봇등을 만들 때 사용됩니다.

-


##발명 도구 준비

###아두이노 선택과 구매

아두이노 파트에서 언급했듯이 아두이노의 종류는 대중들이 커스터 마이징 한 버전까지 포함하여 셀수 없을 정도로 많습니다. 대부분이 특정 용도에 맞춰서 제작되었는데, 이 수많은 아두이노 중 **아두이노 UNO**는 아두이노의 **표준**으로서 초보자, 입문자 대상으로 가격도 저렴하기 때문에 많이 소비되고 있는 모델입니다. 이 책의 대상은 초심자 혹은 입문자이므로 아두이노 UNO를 사용하여 진행합니다. 

###아두이노 IDE

아두이노 프로그래밍 하려면 작동하는 소스코드를 작성하고, 아두이노에 해당 소스코드를 업로드할 프로그램이 있어야합니다. 우리는 아두이노 재단에서 만든 공식 IDE (통합 개발 환경) 인 **아두이노 IDE**를 사용합니다.

https://www.arduino.cc/en/Main/Software

(사이트 캡처)

해당 사이트에 접속하여, 자신의 운영체제 환경에 맞는 아두이노 IDE 설치 프로그램을 다운받고, 설치해줍니다. 아두이노 IDE가 여러분의 컴퓨터에 설치가 되었다면, 실행시켜 줍시다.

(아두이노 IDE 캡처)

아두이노 IDE 는 이렇게 생겼습니다. 이 아두이노 IDE에 여러분의 소스코드를 입력하고, 아두이노를 연결하여 소스코드를 업로드하여 아두이노를 작동 시킬 수 있습니다.

그리고 몇가지 세팅을 해줘야 합니다. 첫번째로 포트 설정을 해줘야 합니다. 여러분들의 컴퓨터에는 많은 USB포트가 존재합니다. 우리는 이 많은 USB 포트중에서 아두이노와 통신할 포트를 설정해줘야 합니다.

(포트 설정 설명, 윈도우/맥)

두번째로 아두이노 보드 설정을 해줘야 합니다. 무슨 보드로 작업을 할 것인지 선택해야 합니다. 우리는 아두이노 Uno 를 사용하기 때문에 아두이노 IDE에서 보드를 아두이노 Uno 로 설정해줍니다.

(보드 설정 설명, 윈도우/맥)

##초보 발명가

###LED 켜보기
첫번째 프로젝트로 부품설명에서 언급된 LED를 직접 켜보도록 해보겠습니다. LED를 켜기 위해서는 다음과 같은 준비물이 필요합니다.

	시리얼 통신 케이블, 우노 보드, 브레드보드, LED전구, 점퍼선4개
	
아두이노 보드를 케이블을 이용하여 PC와 연결해줍니다. 그 다음 점퍼선과 LED을 이용해 다음 사진과 회로도를 참고하여 회로를 구성해줍니다.

그리고 다음 소스코드를 업로드 해줍니다.

	



###신호등 만들기

###크리스마스 트리 만들기

###부드럽게 깜빡이는 LED

###소리 내보기

###비행기 연주하기

###모스부호 찍어보기

###밝기를 감지하자

###밝기 감지 조명 제작

###거리 측정 하기

##중급 발명가

###물체가 가까우면 경보음 울리기

###물체가 가까우면 경보음과 경보등 깜빡이기

###모터와 프로펠러를 이용해 미니 선풍기 만들기

###가변저항을 사용하여 선풍기 세기 조절하기

###사람이 근처에 있으면 작동하는 선풍기 만들기

###온도센서를 이용해 더우면 작동하는 선풍기 만들기

###주변 밝기 감지 조명 세기 자동 조절

##고급 발명가

###LED 색상 제어

###패턴 및 글자 표시하기

###화분 토양

###숫자 표시하기
I